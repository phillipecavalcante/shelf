{% extends "dashboard_template.html" %}

{% block dashboard_title %}
	<h1 class="page-header">
		Galleries
	</h1>
{% endblock %}

{% block dashboard_content %}
	<div class="row-fluid">
		<div class="col-md-12">
			<form action="{% url 'gallery:create' %}" method="post" class="form">{% csrf_token %}
				{% for error in form.non_field.errors %}
					<p class="text-danger">{{ error }}</p>
				{% empty %}
				{% endfor %}
				
					
				<div class="row-fluid">
					<div class="col-xs-6 col-md-6">
						{{ form.name }}
						{% for error in form.name.errors %}
							<p class="text-danger">{{ error }}</p>
							{% empty %}
						{% endfor %}
					</div>
					<div class="col-xs-6 col-md-6">
						<button type="submit" class="btn btn-primary"><i class="fa fa-plus"></i> Add</button>
					</div>
				</div>
			</form>
		</div>
	</div>
	<p>&nbsp;</p>	
	<hr>
	<p></p>
	
	<div class="row-fluid">
		<div class="col-md-12">			
				{% if list %}
					<div class="table-responsive">
				  		<table class="table table-hover">
				  			<thead>
					  			<tr>
					  				<th>#</th><th>name</th><th></th>
					  			</tr>
				  			</thead>
				  			{% for item in list %}
				  				<tr>
				  					<td>
				  						{{ forloop.counter }}
				  					</td>
				  					<td>
				  						<a href="{% url 'gallery:retrieve' item.slug %}">{{ item.name }}</a>
				  					</td>
				  					<td>
				  						<div class="btn-toolbar" role="toolbar">
											<form method="POST" action="{% url 'gallery:delete' item.slug %}">{% csrf_token %}
											    <button type="submit" class="btn btn-link"><i class="fa fa-trash-o fa-lg"></i></button>
											</form>
										</div>
				  					</td>
				  				</tr>
				  			{% endfor %}
				  		</table>
				  	</div>
				{% else %}
					No galleries found.
				{% endif %}
			</div>
		</div>
	</div>
{% endblock %}