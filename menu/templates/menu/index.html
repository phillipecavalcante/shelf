{% extends "base.html" %}


{% block content %}
	<h1>Menu</h1>
	{% load mptt_tags %}
<ol class="breadcrumb">
    {% recursetree list %}
        <li>
            {{ node.name }}
            {% if not node.is_leaf_node %}
                <ul class="children">
                    {{ children }}
                </ul>
            {% endif %}
        </li>
    {% endrecursetree %}
</ol>
	
	<a href="{% url 'menu:create' %}" class="btn btn-primary" role="button">
		<i class="fa fa-plus"></i>&nbsp;&nbsp;&nbsp;Criar item de menu
	</a>
	
	{% if list %}
		<div class="table-responsive">
  			<table class="table table-hover">
  				{% for item in list %}
  					<tr>
  						<td>
  							{{ forloop.counter }}
  						</td>
  						<td>
  						 	<a href="{% url 'menu:retrieve' item.id %}">{{ item.name }}</a>
  						</td>
  						<td>
  							{% if item.is_visible %}
								<span class="label label-danger">PUBLISHED</span>
							{% else %}
								<span class="label label-default">UNPUBLISHED</span>
							{% endif %}
  						</td>
  					</tr>
  				{% endfor %}
  			</table>
		</div>
	{% endif %}
{% endblock %}
